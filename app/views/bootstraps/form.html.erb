<%= javascript_include_tag "http://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js" %>

<%= stylesheet_link_tag "http://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" %>

<br/>

<div id="underConstructionDiv"><em><b>Under construction</b></em></div> 

<div id="formContainer"> </div>

<br/>  <br/>  <br/>


<script>

    $(document).ready(function () {

        var _fieldBase = new FieldBase();

        var dataItems = _fieldBase.getLocalStorageDataItems();

        var form = document.createElement("form");

        form.setAttribute("role", "form");

        $.each(JSON.parse(dataItems), function (index, item) {

            var data = JSON.parse(item);

            var dataObj = createDataObject(data.type);

            dataObj.initialize(data.type, data);

            var field = createFieldObject(data.type, dataObj);

            form.appendChild(field.getBootstrapView((index + 1)));

            var br = document.createElement("br");

            form.appendChild(br);
    
        });

        document.getElementById("formContainer").appendChild(form);

        setCSS();
    });

    function setCSS() {

        $("body").css( "background-color", "#FFF7C9" );  

        $("form").css( { "margin-top": "20px", "margin-left": "20px", "margin-right": "20px" } );

        $("#formContainer").css( { "padding-bottom": "20px", "background-color": "#FFF", "margin":  "auto", "width" : "540px", "border-radius": "4px"} );

        $("#underConstructionDiv").css( { "color": "#FF8C00;", "margin-left": "45%" } );

    }


</script>
